(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5c73caf0"],{"211b":function(t,e,r){},2566:function(t,e,r){"use strict";var n=r("211b"),a=r.n(n);a.a},"2ee3":function(t,e,r){"use strict";r.d(e,"h",function(){return a}),r.d(e,"e",function(){return s}),r.d(e,"g",function(){return o}),r.d(e,"a",function(){return c}),r.d(e,"f",function(){return i}),r.d(e,"b",function(){return u}),r.d(e,"i",function(){return l}),r.d(e,"d",function(){return d}),r.d(e,"c",function(){return h});var n=r("b775");function a(t){return Object(n["a"])({url:"/class",method:"post",data:t,baseURL:"/go-registration"})}function s(){return Object(n["a"])({url:"/class/all",method:"get",baseURL:"/go-registration"})}function o(t,e){return Object(n["a"])({url:"/student/import",method:"post",params:{classID:t},data:e,baseURL:"/go-registration"})}function c(t,e){return Object(n["a"])({url:"/student/check-in",method:"put",params:{classID:t},data:e,baseURL:"/go-registration"})}function i(t){return Object(n["a"])({url:"/class/status",method:"get",params:{classID:t},baseURL:"/go-registration"})}function u(t){return Object(n["a"])({url:"/class",method:"delete",params:{classID:t},baseURL:"/go-registration"})}function l(t,e){return Object(n["a"])({url:"/student",method:"post",params:{classID:t},data:e,baseURL:"/go-registration"})}function d(t,e){return Object(n["a"])({url:"/student",method:"put",params:{classID:t},data:e,baseURL:"/go-registration"})}function h(t,e){return Object(n["a"])({url:"/student",method:"delete",params:{classID:t,employeeID:e},baseURL:"/go-registration"})}},"69eb":function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("el-container",[r("el-main",{attrs:{height:"auto"}},[r("el-row",[r("el-col",{attrs:{span:24}},[r("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:t.goStatusPage}},[t._v("查看報到狀況")])],1)],1),t._v(" "),r("div",[t.error?r("p",{staticClass:"error"},[t._v(t._s(t.error))]):t._e(),t._v(" "),r("p",{staticClass:"decode-result"},[t._v("上一筆報到紀錄: "),r("b",[t._v(t._s(t.result))])]),t._v(" "),r("qrcode-stream",{on:{decode:t.onDecode,init:t.onInit}})],1)],1)],1)},a=[],s=(r("7f7f"),r("96cf"),r("3b8d")),o=(r("b6ce"),r("5441")),c=r.n(o),i=r("9a3e"),u=r("2ee3"),l={components:{QrcodeStream:i["QrcodeStream"]},data:function(){return{result:"",error:"",classID:0}},created:function(){"undefined"!==typeof this.$route.query.classID?this.classID=this.$route.query.classID:this.openMessageBox("錯誤訊息","課程ID錯誤","離開",1)},methods:{openMessageBox:function(t,e,r,n){var a=this;c()({title:t,message:e,confirmButtonText:r}).then(function(t){switch(n){case 1:a.$router.push({path:"/"});break;default:break}})},onDecode:function(t){var e=this;this.result=t,Object(u["a"])(this.classID,{employeeID:this.result}).then(function(t){t.error?(e.openMessageBox("錯誤訊息","報到失敗，API錯誤","繼續",0),e.listLoading=!1):(e.openMessageBox("訊息","".concat(t.data),"繼續",0),e.listLoading=!1)})},goStatusPage:function(){this.$router.push({path:"/status/index",query:{classID:this.classID,t:+new Date}})},onInit:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e;case 3:t.next=8;break;case 5:t.prev=5,t.t0=t["catch"](0),"NotAllowedError"===t.t0.name?this.error="ERROR: you need to grant camera access permisson":"NotFoundError"===t.t0.name?this.error="ERROR: no camera on this device":"NotSupportedError"===t.t0.name?this.error="ERROR: secure context required (HTTPS, localhost)":"NotReadableError"===t.t0.name?this.error="ERROR: is the camera already in use?":"OverconstrainedError"===t.t0.name?this.error="ERROR: installed cameras are not suitable":"StreamApiNotSupportedError"===t.t0.name&&(this.error="ERROR: Stream API is not supported in this browser");case 8:case"end":return t.stop()}},t,this,[[0,5]])}));function e(e){return t.apply(this,arguments)}return e}()}},d=l,h=(r("2566"),r("2877")),p=Object(h["a"])(d,n,a,!1,null,"757cf114",null);e["default"]=p.exports}}]);