(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-07b62609"],{"2ee3":function(t,e,a){"use strict";a.d(e,"h",function(){return s}),a.d(e,"e",function(){return r}),a.d(e,"g",function(){return i}),a.d(e,"a",function(){return o}),a.d(e,"f",function(){return l}),a.d(e,"b",function(){return c}),a.d(e,"i",function(){return u}),a.d(e,"d",function(){return d}),a.d(e,"c",function(){return m});var n=a("b775");function s(t){return Object(n["a"])({url:"/class",method:"post",data:t,baseURL:"/go-registration"})}function r(){return Object(n["a"])({url:"/class/all",method:"get",baseURL:"/go-registration"})}function i(t,e){return Object(n["a"])({url:"/student/import",method:"post",params:{classID:t},data:e,baseURL:"/go-registration"})}function o(t,e){return Object(n["a"])({url:"/student/check-in",method:"put",params:{classID:t},data:e,baseURL:"/go-registration"})}function l(t){return Object(n["a"])({url:"/class/status",method:"get",params:{classID:t},baseURL:"/go-registration"})}function c(t){return Object(n["a"])({url:"/class",method:"delete",params:{classID:t},baseURL:"/go-registration"})}function u(t,e){return Object(n["a"])({url:"/student",method:"post",params:{classID:t},data:e,baseURL:"/go-registration"})}function d(t,e){return Object(n["a"])({url:"/student",method:"put",params:{classID:t},data:e,baseURL:"/go-registration"})}function m(t,e){return Object(n["a"])({url:"/student",method:"delete",params:{classID:t,employeeID:e},baseURL:"/go-registration"})}},9406:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",[a("el-main",{attrs:{height:"auto"}},[a("el-row",[a("el-col",{staticClass:"newMember",attrs:{span:24,align:"right"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(e){t.addDialogVisible=!0}}},[t._v("新增課程")])],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.classList}},[a("el-table-column",{attrs:{align:"center",prop:"className",label:"課程名稱"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"date",label:"上課日期"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作",width:"200px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-row",[a("el-button",{attrs:{type:"primary",icon:"el-icon-full-screen",circle:"",title:"報到"},on:{click:function(a){return t.scan(e.row)}}}),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-s-data",circle:"",title:"報到狀況"},on:{click:function(a){return t.enterStatus(e.row)}}})],1),t._v(" "),a("el-row",[a("el-button",{attrs:{type:"primary",icon:"el-icon-upload2",circle:"",title:"匯入"},on:{click:function(a){return t.enterImportExcel(e.row)}}}),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-download",circle:"",title:"匯出"},on:{click:function(a){return t.exportExcel(e.row)}}}),t._v(" "),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",circle:"",title:"刪除"},on:{click:function(a){return t.deleteClassByApi(e.row)}}})],1)]}}])})],1),t._v(" "),a("el-dialog",{attrs:{title:"新增課程",visible:t.addDialogVisible,width:"350px"},on:{"update:visible":function(e){t.addDialogVisible=e}}},[a("el-form",{ref:"form",attrs:{model:t.newForm,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"課程名稱"}},[a("el-input",{model:{value:t.newForm.className,callback:function(e){t.$set(t.newForm,"className",e)},expression:"newForm.className"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"上課日期"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"選擇日期",format:"yyyy年MM月dd日","value-format":"yyyy-MM-dd"},model:{value:t.newForm.date,callback:function(e){t.$set(t.newForm,"date",e)},expression:"newForm.date"}})],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.addDialogVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.summitForm}},[t._v("送 出")])],1)],1)],1)],1)},s=[],r=a("2ee3"),i={name:"Dashboard",data:function(){return{newForm:{className:"",date:""},addDialogVisible:!1,classList:[],classData:{},listLoading:!0}},created:function(){this.getClassListByApi()},methods:{getClassListByApi:function(){var t=this;Object(r["e"])().then(function(e){t.classList=e.data,t.listLoading=!1})},summitForm:function(){var t=this;""!==this.newForm.className||""!==this.newForm.date?(this.addDialogVisible=!1,Object(r["h"])(this.newForm).then(function(e){t.$message({message:"新增課程成功",type:"success"}),t.getClassListByApi(),t.listLoading=!1})):this.$message({message:"課程名稱與日期不能為空",type:"error"})},enterImportExcel:function(t){this.$router.push({path:"/excel/import",query:{classID:t.classID,t:+new Date}})},exportExcel:function(t){this.$router.push({path:"/excel/export",query:{classID:t.classID,t:+new Date}})},scan:function(t){this.$router.push({path:"/scan/index",query:{classID:t.classID,t:+new Date}})},enterStatus:function(t){this.$router.push({path:"/status/index",query:{classID:t.classID,t:+new Date}})},deleteClassByApi:function(t){var e=this;this.$confirm("此操作將永久刪除課程，是否繼續?","提示",{confirmButtonText:"確定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(r["b"])(t.classID).then(function(t){e.$message({message:"刪除課程成功",type:"success"}),e.getClassListByApi()})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})}}},o=i,l=a("2877"),c=Object(l["a"])(o,n,s,!1,null,"3a75f193",null);e["default"]=c.exports}}]);